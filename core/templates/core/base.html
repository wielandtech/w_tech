{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Welcome to WielandTech{% endblock %}</title>
    <meta name="description" content="An online portfolio">
    <link rel="icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
    <link href="{% static 'site.webmanifest' %}" rel="manifest" />
    <link href="icon.png" rel="apple-touch-icon" />
    <link href="{% static 'css/normalize.css' %}" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'css/dark-mode.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/metrics.css' %}">
    <script defer src="{% static 'js/theme.js' %}"></script>
    {% block extra_css %}{% endblock %}
    {% block extra_head %}{% endblock %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B3T2X5116N"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-B3T2X5116N', {
            // Modern configuration object
            send_page_view: true
        });
    </script>
    <meta name="theme-color" content="#fafafa">
</head>
<body>
    <div class="wrapper">
        {% if request.path == '/' %}
            <div class="splash parallax" id="homepage">
                <a href="/#about" class="header">WIELANDTECH</a>
                <a href="/#about" class="scroll-cta">
                    <div class="mouse">
                        <div class="scroller"></div>
                    </div>
                    <span class="scroll-text">Scroll down to enter site</span>
                </a>
            </div>
        {% endif %}
        {% include 'core/header.html' %}
        {% block content %}{% endblock %}
        {% include 'core/footer.html' %}
    </div>
    <script src="{% static 'js/main.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2.2.1/src/js.cookie.min.js"></script>
    <script>
        var csrftoken = Cookies.get('csrftoken');
        function csrfSafeMethod(method) {
            // these HTTP methods do not require CSRF protection
            return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
        }
        $.ajaxSetup({
            beforeSend: function(xhr, settings) {
                if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                    xhr.setRequestHeader("X-CSRFToken", csrftoken);
                }
            }
        });
        $(document).ready(function(){
            {% block domready %}
            {% endblock %}
        });
    </script>
</body>
</html>